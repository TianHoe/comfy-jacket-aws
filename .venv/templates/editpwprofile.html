{% extends 'main.html' %}

{% block content %}
 {% load static %}
 <!-- Tian Hoe - Add JavaScript -->
 <script type="text/javascript" src="{% static '/js/profile_image.js' %}"></script>
<br>
<div class="shadow p-4 mb-5 bg-body rounded" style="margin: 20px 100px;">
    <h2><p class="fw-bold">Change Password</p></h2>
    {% if pw_error %}
        <div class="alert alert-warning" role="alert">
            <h4 class="alert-heading">Oops!</h4>
            <p>Ah, you failed to change your password.</p>
            <hr>
            <p class="mb-0">Whenever you need to, be sure to follow our password format.</p>
        </div>
    {% endif %}
    <form method="post" enctype="multipart/form-data">
    <div class="row">
        {% csrf_token %}
        {{ form.media }}
        <div class="col-12">
            <div class="row">
                <div class="col-12 fieldWrapper form-group">
                    {{ form.old_password.errors }}
                    {{ form.old_password.label_tag }}
                    {{ form.old_password }}
                </div>
            </div>
            <div class="row">
                <div class="col-12 fieldWrapper form-group">
                    {{ form.new_password1.errors }}
                    {{ form.new_password1.label_tag }}
                    {{ form.new_password1 }}
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <ul>
                        <li>Your new password can’t be too similar to your other personal information.</li>
                        <li>Your new password must contain at least 8 characters.</li>
                        <li>Your new password can’t be a commonly used password.</li>
                        <li>Your new password can’t be entirely numeric.</li>
                    </ul>
                </div>
            </div>
            <div class="row">
                <div class="col-12 fieldWrapper form-group">
                    {{ form.new_password2.errors }}
                    {{ form.new_password2.label_tag }}
                    {{ form.new_password2 }}
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <input type="submit" value="Update" class="btn btn-primary">
            <a href="/profile/" class="btn btn-danger">Cancel</a>
        </div>
    </div>
</form>    
</div>
{% endblock content%}